TRAVAIL REALISE : 

06/03/17 : début du stage.
			- Récupération des articles liés à l'état de l'art de la segmentation et du RaPC pour la détection du cancer du rein chez l'enfant.
			- Lecture, compréhension et résumé des articles/projets : 	
				- Application d’imagerie médicale pour l'aide au traitement du cancer de rein chez l'enfant (Pradal et Ouardiane)
				- Segmentations d'images médicales (Boissard et Lavier)
				- État de l'art des RaPC réalisé par J.Henriet
			- J'ai fais une arborescence de fichiers claire pour classer tous mes travaux de stage


07/03/17 : 
			- Lecture, compréhension et résumé du projet : 
				- Développement d'un outil de modélisation 3D pour la chirurgie conservatrice du rein (Chaussy)
			- Récupération et étude du code de Boissard et Lavier sur le projet de segmentation par split&merge puis croissance par régions. Dessin de leur "modèle algorithmique" sur papier (voir feuille "Algo segmentation de Boissard").
			- Déduction d'un premier "modèle" de ce que je vais devoir implémenter, en utilisant le RaPC à la place du split&merge pour déterminer les pixels germes des régions.
			- Dessin d'un schéma résumant ce "modèle" (Déroulement_RaPC_Croissance.png). Le modèle a aussi été fait sur papier (voir feuille "Utilisation du RaPC pour ensuite faire la croissance par régions").
			- Lecture (non approfondie) d'articles concernant la segmentation : 
				- An Automatic Method for Renal Cortex Segmentation on CT images: Évaluation on Kidney Donors
			- Récupération d'articles sur le RaPC appliqué à la segmentation d'images, fournis par Julien.
			- Questionnements sur la démarche à adopter pour construire la base de cas du RaPC : 
				- il faut avoir une base de tous les cas de base / générés par l'algorithme
				- il faut pouvoir y accéder à tout moment (dans l'algorithme par exemple)
				- il faut donc stocker cette base dans :
					- un fichier (Excel, Access, .txt, etc.) ?
					- une base de données (PhpMyAdmin, MySql, etc.) ?
					- ou autre ?
				- les cas générés par l'algorithme doivent persister pour améliorer la base de cas à chaque nouvelle exécution.

08/03/17 :
			oublié de noter mais ça devait être des lectures d'articles sur le RaPC


09/03/17 : 
			- Début de la lecture des articles fournis par Florent sur le RaPC appliqué à l'imagerie : 
				- Pertra_Perner_Case_Based_Reasoning_For_Signals_And_Images --> sorte de résumé complet de ce qu'est le RaPC
					--> uniquement le 1. et une partie du 2. pour le moment
				- Perner_CaseImageDescriptionForWatershed_2009
			- Réflexion concernant le RaPC et la mesure de similarité entre deux cas : 
				- approche par Classes de cas dans la base de cas pour diminuer la complexité de recherche de meilleure solution
				- voir feuille "MESURE DE SIMILARITE ENTRE CAS"
				- écriture d'un premier algo en pseudo code java pour me rendre compte de l'implémentation du RaPC.
				- j'ai posé plusieurs problèmes (voir feuille aussi): 
					- normalisation nécessaire pour ne pas avoir des données prises en compte de manière beaucoup trop importante (ex: une taille en centimètres)
					- choix des caractéristiques des cas (voir article 1) 
					- perte de précision si utilisation de classes
					- faut-il ajouter un poids à chaque caractéristique pour plus + ou - la prendre en compte ?
					- comment choisir le nombre de classes si on utilise des classes de cas dans la base de cas ? 
					- comment ça se passe si on choisit des classes mais que le nombre de germes n'est pas constant au sein d'une même classe (pour faire la moyenne)?
					- il existe plusieurs manières de constituer les classes (voir figure 2.20  : file:///C:/Users/Thibault/Documents/M2-Info/Stage/Etat%20de%20l'art/Articles/Ressources%20biblio%20R%C3%A0PC/Pertra_Perner_Case_Based_Reasoning_For_Signals_And_Images.pdf)
					- étant donné le nombre de problèmes que l'approche par classes soulève, est-ce vraiment une bonne manière de voir les choses pour notre cas d'étude ?
					- je ne vois toujours pas comment faire pour la phase d'adaptation d'une solution.
					- pour construire la base de cas, comment va t-on s'y prendre ?
			- Lecture du l'état de l'art de Florent sur le RaPC + sa présentation sur les méthodes de segmentations.


10/03/17 : 
			- Trois nouveaux articles : 
				- Case Completion and Similarity in Case-Based
				- Similarity and Metrics in Case-Based Reasoning
				- An architecture for a CBR image segmentation system
			- Réflexion vis à vis de la similarité encore une fois, voir feuille : "MODELISATION DES CAS POUR OPTIMISER LA MESURE DE SIMILARITE"
			- Distinction entre distance et similarité --> d = 1-sim
			- Étude de plusieurs fonctions de distances (articles + wiki)
			- Premier patron de construction du fichier de base de cas, ici sous forme .txt, voir fichier : Exemple_BaseDeCas.txt
			- Bien souvent ils utilisent la fonction de distance de Manhattan pour sa rapidité. d(x, y) = Somme de j=1 à n |xj − yj |


13/03/17 : 
			- Aujourd'hui on va se pencher sur l'adaptation dans un CBR.
			- on a déjà vu l'approche hiérarchique, ou par moyenne des cas similaires, mais il existe d'autres manières de faire de l'adaptation.
			- (à noter qu'il est aussi envisageable de ne pas faire d'adaptation, si le veut dans un premier temps obtenir un modèle simple)
			- wiki nous donne deux méthodes d'adaptation : 
				- transformationnelle (modification légère d'un cas remémoré, il n'existe pas de méthode "universelle", tout dépend du domaine d'étude)
				- dérivative (semble compliquée)
			- le wiki : (https://fr.wikipedia.org/wiki/Raisonnement_par_cas#R.C3.A9utilisation_de_cas_et_adaptation) est pas mal fait

			- En vue d'une présentation lundi prochain, je vais me concentrer sur la caractérisation d'un cas.
				- Lecture du chapitre 11 du livre de Perner.
				- Case-based object recognition for airborne fungi recognition (Petra Perner, Silke Janichen, Horst Perner)
				- CASE-BASED-REASONING FOR IMAGE SEGMENTATION (MARIA FRUCCI, PETRA PERNER and GABRIELLA SANNITI DI BAJA)
				- file:///C:/Users/Thibault/Documents/M2-Info/Stage/Etat%20de%20l'art/Articles/Ressources%20biblio%20R%C3%A0PC/Elsayed_ImageCategorisationUsingTimeSeriesCBR_2011.pdf
				- file:///C:/Users/Thibault/Documents/M2-Info/Stage/Etat%20de%20l'art/Articles/Ressources%20biblio%20R%C3%A0PC/Perner_CaseBasedObjectRecognition_2005.pdf
				- file:///C:/Users/Thibault/Documents/M2-Info/Stage/Etat%20de%20l'art/Articles/Ressources%20biblio%20R%C3%A0PC/Perner_ImageInterpretationWithCBR_2001.pdf
				- http://download.springer.com/static/pdf/301/chp%253A10.1007%252F3-540-44527-7_38.pdf?originUrl=http%3A%2F%2Flink.springer.com%2Fchapter%2F10.1007%2F3-540-44527-7_38&token2=exp=1489420775~acl=%2Fstatic%2Fpdf%2F301%2Fchp%25253A10.1007%25252F3-540-44527-7_38.pdf%3ForiginUrl%3Dhttp%253A%252F%252Flink.springer.com%252Fchapter%252F10.1007%252F3-540-44527-7_38*~hmac=bbd97fc0f86644335017df002a63809c96d82c5aaa8f3f383f3198badaa3eb2c
				- http://www.ibai-institut.de/files/eaai01.pdf
				- 

			- J'ai essayé mes programmes ImageJ sur des scanners, c'est pas mal.

14/03/17 
		- Réalisation d'une synthèse du travail déjà effectué, sous forme d'un powerpoint qui présente : 
			- le RaPC de manière générale
			- la formalisation des cas
			- la modélisation de la base de cas
			- la mesure de similartié

		- il faut creuser du côté de la croissance par régions, ses inconvénient, les problèmes qui vont se poser pour délimiter les régions même si l'on a les bons germes. Faire attention aux seuils.

		- Réception et configuration de l'ordi fixe avec un ubuntu dessus.
		- La présentation n'est pas terminée, il reste les points suivants à remplir :
			- similarité
			- modélisation d'un cas de notre étude (p.18)
			- modélisation d'une base de cas (état de l'art + dans notre cas d'étude)
	

15/03/17
		- Le diapo est quasi fini
		- Lecture de plusieurs articles, notamement :
			Raisonnement_a_partir_de_cas_et_agronomie_des_territoires.pdf écrit par J.Lieber qui est très bien écrit.
		- Etude des différentes caractéristiques statistiques présentées dans le diapo, notamment le Kurtosis et l'Asymétrie.
		- Du coup, prise en compte de nouveaux facteurs pour une modelisation d'un RaPC :
			- les graphes
			- les représentation de K (RDFS par exemple)
		- Au niveau de la croissance par régions :
			- les seuils (local et global)
		- Je pourrai peut-être lire cet article demain : https://tel.archives-ouvertes.fr/tel-00586317/document il a l'air pas mal.


16/03/17 
		- Au final cet article est bof (https://tel.archives-ouvertes.fr/tel-00586317/document)
		- Lecture : 
			- https://members.loria.fr/JLieber/hdr/hdr-lieber.pdf
			- https://www.greyc.fr/sites/default/files/secretariat/theses-soutenues-1999/These-Valerie-Ficet-1999.pdf
			- http://liris.cnrs.fr/amelie.cordier/wiki/lib/exe/fetch.php?media=ens:coursrapc.pdf
			- http://liris.cnrs.fr/~rapc/wiki/doku.php/theses

			- etude complète : https://members.loria.fr/JLieber/hdr/hdr-lieber.pdf

		- J'ai créé un git pour versionner tout mon travail de Stage, par précaution. Ne pas oublier de push chaque jour le travail réalisé.
		- Il faudra creuser du côté de cet article, qui semble intéressant dans la défnition d'une base de cas : 
			(https://www.greyc.fr/sites/default/files/secretariat/theses-soutenues-1999/These-Valerie-Ficet-1999.pdf)

17/03/17 
		- PowerPoint fini
		- Verionnage OK
		- Deux nouveaux articles : 
			- Realisation_d_un_système_d_aide_a_la_conception_d_applications_de_TI
			- Perner (je ne me souviens plus du titre exact : "Why is CBR goodd [...]")
		- Codage d'une croissance par régions sour ImageJ, pas mal mais pour le moment je n'utilise que le seuil Global (et des germes en durs evidement).
			- JE ME REND COMPTE QUE LES SEUILS SONT PEUT ETRE SPECIFIQUES A CHAQUE REGION --> PISTE A CONFIRMER

20/03/17 
		- présentation du mon avancé du projet devant l'équipe : 
			- voir fichier CompteRendu_presentation.txt pour les détails de ce que je dois modifier/ajouter dans ma démarche
		- du coup aujourd'hui j'ai modifié / refait mon plugin ImageJ de croissance par région, qui maintenant : 
			- est commenté proprement
			- utilise les deux seuils
			- la moyenne de la région est mise à jour à chaque itération, du coup on ne compare pas (pour le seuil global) au pixel germe mais à cette moyenne.
			- la vision de l'algo est différente, on ne dessine plus le point courant, mais les voisins, l'algo est inspiré du cours : 
				http://m.i.c.h.e.l.e.free.fr/CoursSegmentation.pdf page 19 et pour les seuils page 27
			- le programme fontionne plutôt bien, sauf pour l'image rein1_base.png qui est extrêment mauvaise par défaut (même à l'oeil nu c'est la merde)
			- il faut peut-être que j'optimise l'enchainement de "if"
		- je GIT le répértoire ImageJ que j'ai déplacé dans le dossier Stage.


21/03/17 
		- la segmentation par croissance de regions est pas mal la :
			- deux seuils fonctionnels
			- colorisation des régions
			- fonction de fusion de deux régions d'apèrs leurs germes fonctionnelle
			- fonction d'ouverture (dilatation puis erosion) fonctionnelle --> mais peut-être à améliorer
		

22/03/17
		- faut que j'optimise la fusion / ouverture 
			--> fait
		- par contre pour l'image rein1_base.png ça ne marche pas bien, logique.
			du coup j'ai essayé de faire un prétraitement de l'image avant de lancer la croissance, ça donne des résultats encourrageants, il faut creuser de ce côté.
			voir fichier parametres_pretraitements_ImageJ.txt

23/03/17
		- j'ai réalisé l'architecture (premiere version assez simple) de la base de cas, qui fonctionne avec imageJ
		- il est possible de réaliser une lecture fichier, qui va construire la base de cas d'après un fichier d'uncertain format : voir fichier BaseDeCasEnLigne.txt
		- attention : pour voir l'affichage des sysout, il faut passer en mode debug sous imgageJ : Edit->Options->Misc..->Debug mode
		- cette fois il faut que j'utilise cette base de cas pour lire les germes ! --> c'est fait ça marche (les seuils aussi)
		- c'est un peu la merde pour ajouter ses propres classes pour qu'elles soient utilisables sous imageJ : 
			- pas de noms de packages 
			- compilation à la main de chaque fichier.java avec l'invite de commandes (cmd) Windows (javac fichier.java)
			- le fichier en entrée (la base de cas) doit se trouver à la racine du dossier ImageJ (au dessus de "plugins")
			- ImageJ fonctionne avec Java 7, et mon ordi en Java 8, il faut donc supprimer/renommer le dossier "jre" à la racine du dossier ImageJ pour ne pas avoir de conflit
		- pour demain je pourrais faire une fonction de selection (sans lago RaPC pour le moment) d'un des cas de la base de cas. De cette manière tout la segementation serait automatisée (plus rien en dur)
		- faire les Sorties aussi (i.e. écrire dans la base de cas !!)
		- POUR LUNDI FAIRE UNE PRESENTATION DES PROBLEMES QUE J'AI AU NIVEAU DE LA SEGMENTATION PAR CROISSANCE DE REGIONS (images difficiles, prétraitement, erosion, etc.)
		- PLUS PRESENTER CE QUE J'AI FAIT/CODé

24/03/17
		- diapo fini pour la présentation de lundi
		- conférence sur "le doctorant, ce couteau suisse", au labo femto
		- correction et optimisation de certains points de code de segmentation
		- j'essaye toujours de trouver les bons prétraitements pour pouvoir segmenter efficacement l'image "rein1_base.png", c'est assez difficile
		
25/03/17
		- je peux essayer de faire l'ecriture fichier (base de bas) --> OK ça marche (on peut aussi ajouter des cas avant de les réécrire dans le fichier)
		- continuer au niveau des filtres
		- l'unsharp mask / masque flou est un filtre qui améliore le piqué, donc la netteté/les contours d'une image (https://en.wikipedia.org/wiki/Unsharp_masking), il utilise 3 paramètres : 
			- amount (poids pour la différence entre image de base et image floutée par exemple)
			- radius (rayon d'effet pour le flou gaussien)
			- seuil (optionnel, pour exclure les différences trop faibles)
			principe : on utilise un flou gaussien, calculé à partir de l'image de base et d'une copie de l'image sur laquelle on augmente le flou.
			La différence entre l'image de base et l'image floutée (à l'aide du flou gaussien) nous donne le masque flou.
			Le masque flou, ajouté à l'image de base, renforce les détails.
			Flou gaussien : chaque pixel prend la valeur moyenne de ses pixels voisins dans un certain rayon.
		- réunion pour le faire le point avec Julien :
			- objectif : implémentation + article (en anglais probablement)
			- article : etat de l'art, définition du problème, résolution du problème, résultats, commentaires.
			- implémentation : codage du RaPC, et dire ce qui a marché, ce qui n'a pas marché.
		- j'ai codé une méthode de calcul de distance entre le probleme courant et ceux de la base. C'est une version ultra simplifiée, mais elle marche sur mes exemples.
		- Du coup je n'ai plus à écrire en dur dans le code le cas à selectionner dans la base, le choix se fait à l'aide de la fonction de distance.
		- Je me suis rendu compte que pour la normalisation/les poids ça va être chiant vu le nombre de champs dans Probleme, du coup j'ai pensé à uniquement mettre des poids en dur dans la fonction getSommeCaracs() de la classe Probleme, au final on arrive au même résultat (les poids peuvent être en dur).
		- Je pourrai donc ajouter ces nouvelles fonctionnalités dans la présentation.


26/03/17
		- nouveau systeme de compilation : 
			- un projet "Segmentation" sous eclipse lié au projet imageJ appelé IJ dans mes projets Eclipse.
			- un build.xml dans ce projet qui me sert de copieur pour tous les fichiers vers le répertoire plugins de ImageJ (Stage/Travail[...]/ImageJ/plugins)
			- à chaque CTRL+S sur eclipse, tout le contenu du code est copié vers les plugins imageJ
			- la compilation fonctionne même pour le fichier Croissance_Regions.java !!
			- attention cependant eclipse n'aime pas le fait que le fichier ne dispose pas de nom de package, mais osef.
		- nouvelle arboresence : 
			-> plugins 
				Croissance_Regions.java
				-> RegionGrow
					-> baseDeCas
						BaseDeCas.java
						Cas.java
						Germe.java
						Probleme.java
						Solution.java
					-> lecture
						LectureFichier.java
		- --> le fichier Croissance_Regions.java est donc deux crans au dessus des autres
		- --> il faut cette fois faire attention aux import, dans chaque fichier (mais vu qu'on utilise eclipse il nous corrige !!)

		- demain il faut vraiment que j'essaye de trouver un pretraitement qui permette de faire une belle segmentation pour l'image rein1_base.png

27/03/17
		- dans la partie solution on pourrait imaginer une deuxieme partie, pour la gestion des filtres de prétraitement. Car le probleme est le suivant : 
			- un bon prétraitement pour une image peut être totalement mauvais pour une autre, il faut donc adapter le prétraitement à l'image -> RàPC.

30/03/17
		- retours sur la présentation, voir feuille "Compte-rendu présentation 2"
		- du coup j'ai implémenter une fonction de suppression des muscles, voir code
		- le but est de simplifier le probleme en enlevant les muscles, qui sont souvent de la même couleur que la tumeur.
		- je me suis rendu compte que ma fonction de calcul de distance pour le RaPC est nulle à chier : 
			ex : 150  10       150 10  ici le cas deux est meilleur, mais c'est le 1 qui sera chosisi (160-160 = 0)
				 10  150       10  10
		- j'ai restructuré le code, désormais j'ai une fonction segmenter(), et une autre supprimerMuscles()

31/03/17 
		- il est desormais possible d'executer le programme directement depuis Eclipse, à l'aide du main() de la classe MainClass.java
			Attention : pour ce faire il faire ajouter le package (package RegionGrow.main) à la classe Croissance_Regions.java sinon cela ne marche pas.

03/04/17 
		- Template et base du rapport réalisés (sur overleaf en LateX).