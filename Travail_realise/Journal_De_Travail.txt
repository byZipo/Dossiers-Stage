TRAVAIL REALISE : 

06/03/17 : début du stage.
			- Récupération des articles liés à l'état de l'art de la segmentation et du RaPC pour la détection du cancer du rein chez l'enfant.
			- Lecture, compréhension et résumé des articles/projets : 	
				- Application d’imagerie médicale pour l'aide au traitement du cancer de rein chez l'enfant (Pradal et Ouardiane)
				- Segmentations d'images médicales (Boissard et Lavier)
				- État de l'art des RaPC réalisé par J.Henriet
			- J'ai fais une arborescence de fichiers claire pour classer tous mes travaux de stage


07/03/17 : 
			- Lecture, compréhension et résumé du projet : 
				- Développement d'un outil de modélisation 3D pour la chirurgie conservatrice du rein (Chaussy)
			- Récupération et étude du code de Boissard et Lavier sur le projet de segmentation par split&merge puis croissance par régions. Dessin de leur "modèle algorithmique" sur papier (voir feuille "Algo segmentation de Boissard").
			- Déduction d'un premier "modèle" de ce que je vais devoir implémenter, en utilisant le RaPC à la place du split&merge pour déterminer les pixels germes des régions.
			- Dessin d'un schéma résumant ce "modèle" (Déroulement_RaPC_Croissance.png). Le modèle a aussi été fait sur papier (voir feuille "Utilisation du RaPC pour ensuite faire la croissance par régions").
			- Lecture (non approfondie) d'articles concernant la segmentation : 
				- An Automatic Method for Renal Cortex Segmentation on CT images: Évaluation on Kidney Donors
			- Récupération d'articles sur le RaPC appliqué à la segmentation d'images, fournis par Julien.
			- Questionnements sur la démarche à adopter pour construire la base de cas du RaPC : 
				- il faut avoir une base de tous les cas de base / générés par l'algorithme
				- il faut pouvoir y accéder à tout moment (dans l'algorithme par exemple)
				- il faut donc stocker cette base dans :
					- un fichier (Excel, Access, .txt, etc.) ?
					- une base de données (PhpMyAdmin, MySql, etc.) ?
					- ou autre ?
				- les cas générés par l'algorithme doivent persister pour améliorer la base de cas à chaque nouvelle exécution.

08/03/17 :
			oublié de noter mais ça devait être des lectures d'articles sur le RaPC


09/03/17 : 
			- Début de la lecture des articles fournis par Florent sur le RaPC appliqué à l'imagerie : 
				- Pertra_Perner_Case_Based_Reasoning_For_Signals_And_Images --> sorte de résumé complet de ce qu'est le RaPC
					--> uniquement le 1. et une partie du 2. pour le moment
				- Perner_CaseImageDescriptionForWatershed_2009
			- Réflexion concernant le RaPC et la mesure de similarité entre deux cas : 
				- approche par Classes de cas dans la base de cas pour diminuer la complexité de recherche de meilleure solution
				- voir feuille "MESURE DE SIMILARITE ENTRE CAS"
				- écriture d'un premier algo en pseudo code java pour me rendre compte de l'implémentation du RaPC.
				- j'ai posé plusieurs problèmes (voir feuille aussi): 
					- normalisation nécessaire pour ne pas avoir des données prises en compte de manière beaucoup trop importante (ex: une taille en centimètres)
					- choix des caractéristiques des cas (voir article 1) 
					- perte de précision si utilisation de classes
					- faut-il ajouter un poids à chaque caractéristique pour plus + ou - la prendre en compte ?
					- comment choisir le nombre de classes si on utilise des classes de cas dans la base de cas ? 
					- comment ça se passe si on choisit des classes mais que le nombre de germes n'est pas constant au sein d'une même classe (pour faire la moyenne)?
					- il existe plusieurs manières de constituer les classes (voir figure 2.20  : file:///C:/Users/Thibault/Documents/M2-Info/Stage/Etat%20de%20l'art/Articles/Ressources%20biblio%20R%C3%A0PC/Pertra_Perner_Case_Based_Reasoning_For_Signals_And_Images.pdf)
					- étant donné le nombre de problèmes que l'approche par classes soulève, est-ce vraiment une bonne manière de voir les choses pour notre cas d'étude ?
					- je ne vois toujours pas comment faire pour la phase d'adaptation d'une solution.
					- pour construire la base de cas, comment va t-on s'y prendre ?
			- Lecture du l'état de l'art de Florent sur le RaPC + sa présentation sur les méthodes de segmentations.


10/03/17 : 
			- Trois nouveaux articles : 
				- Case Completion and Similarity in Case-Based
				- Similarity and Metrics in Case-Based Reasoning
				- An architecture for a CBR image segmentation system
			- Réflexion vis à vis de la similarité encore une fois, voir feuille : "MODELISATION DES CAS POUR OPTIMISER LA MESURE DE SIMILARITE"
			- Distinction entre distance et similarité --> d = 1-sim
			- Étude de plusieurs fonctions de distances (articles + wiki)
			- Premier patron de construction du fichier de base de cas, ici sous forme .txt, voir fichier : Exemple_BaseDeCas.txt
			- Bien souvent ils utilisent la fonction de distance de Manhattan pour sa rapidité. d(x, y) = Somme de j=1 à n |xj − yj |


13/03/17 : 
			- Aujourd'hui on va se pencher sur l'adaptation dans un CBR.
			- on a déjà vu l'approche hiérarchique, ou par moyenne des cas similaires, mais il existe d'autres manières de faire de l'adaptation.
			- (à noter qu'il est aussi envisageable de ne pas faire d'adaptation, si le veut dans un premier temps obtenir un modèle simple)
			- wiki nous donne deux méthodes d'adaptation : 
				- transformationnelle (modification légère d'un cas remémoré, il n'existe pas de méthode "universelle", tout dépend du domaine d'étude)
				- dérivative (semble compliquée)
			- le wiki : (https://fr.wikipedia.org/wiki/Raisonnement_par_cas#R.C3.A9utilisation_de_cas_et_adaptation) est pas mal fait

			- En vue d'une présentation lundi prochain, je vais me concentrer sur la caractérisation d'un cas.
				- Lecture du chapitre 11 du livre de Perner.
				- Case-based object recognition for airborne fungi recognition (Petra Perner, Silke Janichen, Horst Perner)
				- CASE-BASED-REASONING FOR IMAGE SEGMENTATION (MARIA FRUCCI, PETRA PERNER and GABRIELLA SANNITI DI BAJA)
				- file:///C:/Users/Thibault/Documents/M2-Info/Stage/Etat%20de%20l'art/Articles/Ressources%20biblio%20R%C3%A0PC/Elsayed_ImageCategorisationUsingTimeSeriesCBR_2011.pdf
				- file:///C:/Users/Thibault/Documents/M2-Info/Stage/Etat%20de%20l'art/Articles/Ressources%20biblio%20R%C3%A0PC/Perner_CaseBasedObjectRecognition_2005.pdf
				- file:///C:/Users/Thibault/Documents/M2-Info/Stage/Etat%20de%20l'art/Articles/Ressources%20biblio%20R%C3%A0PC/Perner_ImageInterpretationWithCBR_2001.pdf
				- http://download.springer.com/static/pdf/301/chp%253A10.1007%252F3-540-44527-7_38.pdf?originUrl=http%3A%2F%2Flink.springer.com%2Fchapter%2F10.1007%2F3-540-44527-7_38&token2=exp=1489420775~acl=%2Fstatic%2Fpdf%2F301%2Fchp%25253A10.1007%25252F3-540-44527-7_38.pdf%3ForiginUrl%3Dhttp%253A%252F%252Flink.springer.com%252Fchapter%252F10.1007%252F3-540-44527-7_38*~hmac=bbd97fc0f86644335017df002a63809c96d82c5aaa8f3f383f3198badaa3eb2c
				- http://www.ibai-institut.de/files/eaai01.pdf
				- 

			- J'ai essayé mes programmes ImageJ sur des scanners, c'est pas mal.

14/03/17 
		- Réalisation d'une synthèse du travail déjà effectué, sous forme d'un powerpoint qui présente : 
			- le RaPC de manière générale
			- la formalisation des cas
			- la modélisation de la base de cas
			- la mesure de similartié

		- il faut creuser du côté de la croissance par régions, ses inconvénient, les problèmes qui vont se poser pour délimiter les régions même si l'on a les bons germes. Faire attention aux seuils.

		- Réception et configuration de l'ordi fixe avec un ubuntu dessus.
		- La présentation n'est pas terminée, il reste les points suivants à remplir :
			- similarité
			- modélisation d'un cas de notre étude (p.18)
			- modélisation d'une base de cas (état de l'art + dans notre cas d'étude)
	

15/03/17
		- Le diapo est quasi fini
		- Lecture de plusieurs articles, notamement :
			Raisonnement_a_partir_de_cas_et_agronomie_des_territoires.pdf écrit par J.Lieber qui est très bien écrit.
		- Etude des différentes caractéristiques statistiques présentées dans le diapo, notamment le Kurtosis et l'Asymétrie.
		- Du coup, prise en compte de nouveaux facteurs pour une modelisation d'un RaPC :
			- les graphes
			- les représentation de K (RDFS par exemple)
		- Au niveau de la croissance par régions :
			- les seuils (local et global)
		- Je pourrai peut-être lire cet article demain : https://tel.archives-ouvertes.fr/tel-00586317/document il a l'air pas mal.


16/03/17 
		- Au final cet article est bof (https://tel.archives-ouvertes.fr/tel-00586317/document)
		- Lecture : 
			- https://members.loria.fr/JLieber/hdr/hdr-lieber.pdf
			- https://www.greyc.fr/sites/default/files/secretariat/theses-soutenues-1999/These-Valerie-Ficet-1999.pdf
			- http://liris.cnrs.fr/amelie.cordier/wiki/lib/exe/fetch.php?media=ens:coursrapc.pdf
			- http://liris.cnrs.fr/~rapc/wiki/doku.php/theses

			- etude complète : https://members.loria.fr/JLieber/hdr/hdr-lieber.pdf

		- J'ai créé un git pour versionner tout mon travail de Stage, par précaution. Ne pas oublier de push chaque jour le travail réalisé.
		- Il faudra creuser du côté de cet article, qui semble intéressant dans la défnition d'une base de cas : 
			(https://www.greyc.fr/sites/default/files/secretariat/theses-soutenues-1999/These-Valerie-Ficet-1999.pdf)

17/03/17 
		- PowerPoint fini
		- Verionnage OK
		- Deux nouveaux articles : 
			- Realisation_d_un_système_d_aide_a_la_conception_d_applications_de_TI
			- Perner (je ne me souviens plus du titre exact : "Why is CBR goodd [...]")
		- Codage d'une croissance par régions sour ImageJ, pas mal mais pour le moment je n'utilise que le seuil Global (et des germes en durs evidement).
			- JE ME REND COMPTE QUE LES SEUILS SONT PEUT ETRE SPECIFIQUES A CHAQUE REGION --> PISTE A CONFIRMER

20/03/17 
		- présentation du mon avancé du projet devant l'équipe : 
			- voir fichier CompteRendu_presentation.txt pour les détails de ce que je dois modifier/ajouter dans ma démarche
		- du coup aujourd'hui j'ai modifié / refait mon plugin ImageJ de croissance par région, qui maintenant : 
			- est commenté proprement
			- utilise les deux seuils
			- la moyenne de la région est mise à jour à chaque itération, du coup on ne compare pas (pour le seuil global) au pixel germe mais à cette moyenne.
			- la vision de l'algo est différente, on ne dessine plus le point courant, mais les voisins, l'algo est inspiré du cours : 
				http://m.i.c.h.e.l.e.free.fr/CoursSegmentation.pdf page 19 et pour les seuils page 27
			- le programme fontionne plutôt bien, sauf pour l'image rein1_base.png qui est extrêment mauvaise par défaut (même à l'oeil nu c'est la merde)
			- il faut peut-être que j'optimise l'enchainement de "if"
		- je GIT le répértoire ImageJ que j'ai déplacé dans le dossier Stage.


21/03/17 
		- la segmentation par croissance de regions est pas mal la :
			- deux seuils fonctionnels
			- colorisation des régions
			- fonction de fusion de deux régions d'apèrs leurs germes fonctionnelle
			- fonction d'ouverture (dilatation puis erosion) fonctionnelle --> mais peut-être à améliorer
		

22/03/17
		- faut que j'optimise la fusion / ouverture 
			--> fait
		- par contre pour l'image rein1_base.png ça ne marche pas bien, logique.
			du coup j'ai essayé de faire un prétraitement de l'image avant de lancer la croissance, ça donne des résultats encourrageants, il faut creuser de ce côté.
			voir fichier parametres_pretraitements_ImageJ.txt

23/03/17
		- j'ai réalisé l'architecture (premiere version assez simple) de la base de cas, qui fonctionne avec imageJ
		- il est possible de réaliser une lecture fichier, qui va construire la base de cas d'après un fichier d'uncertain format : voir fichier BaseDeCasEnLigne.txt
		- attention : pour voir l'affichage des sysout, il faut passer en mode debug sous imgageJ : Edit->Options->Misc..->Debug mode
		- cette fois il faut que j'utilise cette base de cas pour lire les germes ! --> c'est fait ça marche (les seuils aussi)
		- c'est un peu la merde pour ajouter ses propres classes pour qu'elles soient utilisables sous imageJ : 
			- pas de noms de packages 
			- compilation à la main de chaque fichier.java avec l'invite de commandes (cmd) Windows (javac fichier.java)
			- le fichier en entrée (la base de cas) doit se trouver à la racine du dossier ImageJ (au dessus de "plugins")
			- ImageJ fonctionne avec Java 7, et mon ordi en Java 8, il faut donc supprimer/renommer le dossier "jre" à la racine du dossier ImageJ pour ne pas avoir de conflit
		- pour demain je pourrais faire une fonction de selection (sans lago RaPC pour le moment) d'un des cas de la base de cas. De cette manière tout la segementation serait automatisée (plus rien en dur)
		- faire les Sorties aussi (i.e. écrire dans la base de cas !!)
		- POUR LUNDI FAIRE UNE PRESENTATION DES PROBLEMES QUE J'AI AU NIVEAU DE LA SEGMENTATION PAR CROISSANCE DE REGIONS (images difficiles, prétraitement, erosion, etc.)
		- PLUS PRESENTER CE QUE J'AI FAIT/CODé

24/03/17
		- diapo fini pour la présentation de lundi
		- conférence sur "le doctorant, ce couteau suisse", au labo femto
		- correction et optimisation de certains points de code de segmentation
		- j'essaye toujours de trouver les bons prétraitements pour pouvoir segmenter efficacement l'image "rein1_base.png", c'est assez difficile
		
25/03/17
		- je peux essayer de faire l'ecriture fichier (base de bas) --> OK ça marche (on peut aussi ajouter des cas avant de les réécrire dans le fichier)
		- continuer au niveau des filtres
		- l'unsharp mask / masque flou est un filtre qui améliore le piqué, donc la netteté/les contours d'une image (https://en.wikipedia.org/wiki/Unsharp_masking), il utilise 3 paramètres : 
			- amount (poids pour la différence entre image de base et image floutée par exemple)
			- radius (rayon d'effet pour le flou gaussien)
			- seuil (optionnel, pour exclure les différences trop faibles)
			principe : on utilise un flou gaussien, calculé à partir de l'image de base et d'une copie de l'image sur laquelle on augmente le flou.
			La différence entre l'image de base et l'image floutée (à l'aide du flou gaussien) nous donne le masque flou.
			Le masque flou, ajouté à l'image de base, renforce les détails.
			Flou gaussien : chaque pixel prend la valeur moyenne de ses pixels voisins dans un certain rayon.
		- réunion pour le faire le point avec Julien :
			- objectif : implémentation + article (en anglais probablement)
			- article : etat de l'art, définition du problème, résolution du problème, résultats, commentaires.
			- implémentation : codage du RaPC, et dire ce qui a marché, ce qui n'a pas marché.
		- j'ai codé une méthode de calcul de distance entre le probleme courant et ceux de la base. C'est une version ultra simplifiée, mais elle marche sur mes exemples.
		- Du coup je n'ai plus à écrire en dur dans le code le cas à selectionner dans la base, le choix se fait à l'aide de la fonction de distance.
		- Je me suis rendu compte que pour la normalisation/les poids ça va être chiant vu le nombre de champs dans Probleme, du coup j'ai pensé à uniquement mettre des poids en dur dans la fonction getSommeCaracs() de la classe Probleme, au final on arrive au même résultat (les poids peuvent être en dur).
		- Je pourrai donc ajouter ces nouvelles fonctionnalités dans la présentation.


26/03/17
		- nouveau systeme de compilation : 
			- un projet "Segmentation" sous eclipse lié au projet imageJ appelé IJ dans mes projets Eclipse.
			- un build.xml dans ce projet qui me sert de copieur pour tous les fichiers vers le répertoire plugins de ImageJ (Stage/Travail[...]/ImageJ/plugins)
			- à chaque CTRL+S sur eclipse, tout le contenu du code est copié vers les plugins imageJ
			- la compilation fonctionne même pour le fichier Croissance_Regions.java !!
			- attention cependant eclipse n'aime pas le fait que le fichier ne dispose pas de nom de package, mais osef.
		- nouvelle arboresence : 
			-> plugins 
				Croissance_Regions.java
				-> RegionGrow
					-> baseDeCas
						BaseDeCas.java
						Cas.java
						Germe.java
						Probleme.java
						Solution.java
					-> lecture
						LectureFichier.java
		- --> le fichier Croissance_Regions.java est donc deux crans au dessus des autres
		- --> il faut cette fois faire attention aux import, dans chaque fichier (mais vu qu'on utilise eclipse il nous corrige !!)

		- demain il faut vraiment que j'essaye de trouver un pretraitement qui permette de faire une belle segmentation pour l'image rein1_base.png

27/03/17
		- dans la partie solution on pourrait imaginer une deuxieme partie, pour la gestion des filtres de prétraitement. Car le probleme est le suivant : 
			- un bon prétraitement pour une image peut être totalement mauvais pour une autre, il faut donc adapter le prétraitement à l'image -> RàPC.

30/03/17
		- retours sur la présentation, voir feuille "Compte-rendu présentation 2"
		- du coup j'ai implémenter une fonction de suppression des muscles, voir code
		- le but est de simplifier le probleme en enlevant les muscles, qui sont souvent de la même couleur que la tumeur.
		- je me suis rendu compte que ma fonction de calcul de distance pour le RaPC est nulle à chier : 
			ex : 150  10       150 10  ici le cas deux est meilleur, mais c'est le 1 qui sera chosisi (160-160 = 0)
				 10  150       10  10
		- j'ai restructuré le code, désormais j'ai une fonction segmenter(), et une autre supprimerMuscles()

31/03/17 
		- il est desormais possible d'executer le programme directement depuis Eclipse, à l'aide du main() de la classe MainClass.java
			Attention : pour ce faire il faire ajouter le package (package RegionGrow.main) à la classe Croissance_Regions.java sinon cela ne marche pas.

03/04/17 
		- Template et base du rapport réalisés (sur overleaf en LateX).

05/04/07
		- Articles + Résumés : 
			- Integration_fuzzy_spatial_relations_deformable_models_2006
			- Image Categorisation Using Time Series Case Based Reasoning 

06/04/17 
		- D'après l'article Integration_fuzzy_spatial_relations_deformable_models_2006, j'ai envisagé une solution pour intégrer la logique floue à notre problème : utiliser un rectangle de bornes max floues, qui constituent des frontières à ne pase dépasser lors de la croissance de régions. Le rectangle n'est sûrement pas la forme de la plus adaptée, une forme plus ronde serait plus adéquat, à voir..

07/04/17 
		- fini l'article (Integration_fuzzy_spatial_relations_deformable_models_2006)
		- cette fois il faut passer à l'autre article traitant de la logique floue : (Fuzzy spatial relation ontology for image interpretation)
		- j'ai trouvé un bon cours sur le fuzzy : http://www.inf.u-szeged.hu/ssip/2008/presentations2/Nyul_fuzzy_segmentation.pdf


10/04/17 
		- j'utilise désormais Mendeley pour ma bibliographie, outils très pratique (je peux desormais surligner aussi les pdf)
		- lecture article : Fuzzy Spatial relation ontology for image interpretation 2008 (en cours + notes + surlignage mendeley)
		
11/04/17
		- fini l'article Fuzzy Spatial relation ontology for image interpretation 2008 + résumé complet
		- pour demain : ajouter une partie logique floue + suppression muscles sur le powerpoint en vue d'une présentation.
		
12/04/17
		- Ajout de la partie "suppression des muscles" dans le powerpoint.
		- Il faudra que je lise les articles : 
			Level set deformable models constrained by fuzzy spatial relations
			Etude de quelques logiques de descriptions floues et de formalismes apparentés
			(ils sont dans le Mendeley)

14/04/17
		- Présentation en intégrant les logique de description, owl, rcc, relations spatiales, etc. --> à poursuivre et approfondir

18/04/17 
		- Aporofondissements sur la présentation à l'aide du cours de CERO sur la théorie des ensembles flous.
		- tentative d'application à notre problèmen cad une modélisation de la logique floue spatiale pour créer une boite englobante pour la segmentation de la tumeur.

19/04/17
		- j'ao continué mon travail de recherche sur les ensembles flous appliqués à notre problème, j'ia notament soulevé le problème du positionnement des germes à l'aide de la logique floue, combiné à la solution d'un cas remémoré --> adaptation ?

20/04/17 
		- TODO : FAUX POUR LA DIFFERENCE DE COORDONNée C’est pas bon (faut prendre en compte y)  c’pour ça que l’angle c’est cool
		VOIR DIAPO POUR LES AJOUTS
		- On final à quoi peut nous servir la logique floue ? 
		placer les germes  compliqué car il faut savoir de manière assez précise où est la tumeur, Comment ?
		- Comment appliquer à notre problème ? (croissance régions) limites par exemple
		PROBLEME = eux plus ils sont loin plus la force est forte, et devient nulle quand ils sont dans la forme. Mais nous ? À quoi peut bien servir la logique floue (carte de distance ) ?

		Si j’ai une fonction floue f(x), et que je veux calculer la force, la logique floue est utile car je peux faire le calcul Force = delta*f(x)
		Le problème avec le croissance régions c’est que c’est binaire, soit on ajoute soit on ajoute pas, je ne vois donc pas comment ajouter la degré d’appartenance à l’ensemble.

		Placer un germe de manière floue ne veut rien dire car la position initiale a peu d’importance tant qu’on est bien dans la tumeur. Ce qui peut être flou c’est donc la boite englobante de la tumeur, mais alors la je ne vois pas du tout ce que cela peut donner.

		Piste : on a d’après la solution du cas remémoré une position de germe, et grâce à la position floue du problème on adapte la position du germe ? USELESS A MON AVIS.


		Le RaPC ne serait pas plutôt la uniquement pour placer les germes ?????????????

		- implémentation d'une ontologie de test des organes et des relations spatiales sous Protégé + plugin d'affichage graphique des classes
		- définition d'une image représentant la carte de distance floue de la relation "la tumeur est en haut à gauche plus ou moins proche de la colonne" sous photoshop.

21/04/17
		- Codage d'une fonction floue "ADroiteDe" sous imageJ qui dessine l'element structurant comme dans l'article. Je ne sais pas comment faire pour faire un "estADroiteDe" avec pour référence un objet et non pas un point (comme je l'ai codé) --> A VOIR (fuzzy dilation)
		- ajout de nouveaux slides dans la présentation.
		

24/04/17
		- Ajout de solides, j'ai presque terminé la présentation
		- Codage de estADroiteDe en fonction d'un objet et non plus d'un point --> complexité grand si l'on considère tous les points de l'objet, pourtant j'ai divisé par deux le nombre de boucles en n'evaluant que les pixels à droit du point de reférence courrant.
		A-T-ON VRAIMENT BESOIN DE COMPARER PAR RAPPORT A L'OBJET ENTIER PLUTOT QU'A UN SEUL POINT, COMME LE CONTRE DE GRAVIE DE L'OBJET PAR EXEMPLE ? SINON POUR OPTMISER IL FAUT CONSIDERER UNIQUEMENT LE CONTOUR DE L'OBJET DE REFERENCE. EUX ILS UTILISENT TOUTE LA FORME CAR l'organ qu'ils segmentent est tout proche de leur référence, presque collé, et l'objet de référence a un centre de gravité hors de la forme, donc c'est relou pour eux. En plus il font un snake donc pour appliquer les force c'est plus pratique d'avoir l'objet de référence en entier, dans notre cas pour placer un germe on devrait s'en sortir plus simplement.


25/04/17
		- codage de fusion de deux relations spatiales, avec t-norme : 
			- j'ai abandonné la relation par rapport à un objet entier,trop couteux, on se contente d'un point.
			- fusion deux régions est facile, mais trois c'est la bordel. --> normalisations, poids différents à cause de l'échelle, etc.
			- ça fonctionne plutot bien mais il faut faire attention à l'odre dans lequel on fait les fusions, à cause des poids selon l'échelle : echelle différente pour procheDe et DroiteDe par exemple, donc l'un va prendre plus d'importance que l'autre.
			- l'ordre à utiliser est : (droite, haut) puis procheDe.
			- Ajout de slides dans le powerpoint liés à cela.
			- Il faudra que j'optimise ce code peut-être, même si je l'ai deja amélioré.
			
26/04/17
		- fusion terminée, optimisée et fonctionnelle, (enfin je pense ^^)
		- j'affiche le scanner original en dessous de la relation floue
		- je me base sur la position de la colonne, pour le moment en dure d'après l'image rein1_base.png
		- il faudra passer par une segmentation de la colonne, donc un RaPC, pour obtenir de manière auto la position du centre de la colonne
		- la fonction floue de distance (moyennementProcheDe) prend un parmetrage en fonction de la taille de l'image (mais cela reste paramètrable via des coefficients)
		

27/04/17
		- powerpoint terminé
		- RESUME DE LA DEMARCHE LOGIQUE FLOUE A CE JOUR : 
			- créer une ontologie des relations spatiales / organes
			- créer les fonctions floues associées à ces relations
			- placer de manière floue le germe de la tumeur à l'aide d'un point de référence (centre de la colonne) et des relations spatiales stockées dans la partie problème du cas ("estProcheDe, etc.")
			- possibilité de définir une boite englobante d'après les relations et les fonctions floues, pour limiter la fuite de la croissance vers les muscles par exemple.
			- pour obtenir le point de référence (centre de la colonne), il faut segmenter l'os (à l'aide du RàPC apr exemple) puis calculer son centre de gravité (par exemple)

			- la question du reglagles des paramètres des fonctions floues reste à définir
				Dans l'article ils font un apprentissage mais je vois pas à quoi il sert réellement par rapport à un réglage à la main
			- la question de la précision des relations reste aussi à définir ("trèstrèstrèsprocheDe" par exemple ^^)

			- la complexité pour la forme de réference complete plutot que pour le centre de gravité est enorme, O(w*h*wForme*hForme) contre O(w*h) pour construire la carte de distance d'une seule relation. Tout ceci pour un gain de précision faible.
			Prendre le contour de la forme nécessiterais des calculs, pour un faible gain. c'est pourquoi j'ai choisis de prendre le centre uniquement.

			-

02/05/17
		- Test de base de cas en .xml, pas mal

03/05/17
		- Listing par Julien des point complexes de notre projet, intéressant pour rédiger une problématique, et montrer que les outils de segmentation existants ne permettent pas d'obtenir de bons résultats.
		!!!!!!!!!!!!!!!!!!!!! CONTRAINTES DU PROJET : TRES IMPORTANT A CONNAITRE !!!!!!!!!!!!!!
		-Enfant => pas de graisses, difficile de réaliser la segmentation de la tumeur
		-Enfant d'age très différents (2ans-11ans) et donc taille de reins différente
		-Tumeur de n'importe quelle forme à n'importe quel endroit sur le rein
		-Pour le Deep Learning => besoin d'une grande base d'apprentissage (pour le RàPC il en faudrait une bonne aussi^^)

		- Autre problème récurrent en RàPC dont on a parlé, le reglage des poids associés aux caractérisitiques, en vue de la mesure de similarité. C'est toujours une contrainte compliquée à résoudre.

		- J'ai utilisé Eclipse pour "valider" mon fichier XML, cela permet de vérifier qu'il soit correctement écrit.
		- Ajout d'une dipo pour montrer l'arborescence de la base de cas en XML.
		TODO : 
			modifier code pour intégrer un seuil par organe, et donc un seuil par germe. 
			ajouter une arborescence de classes pour gérer les organes, et les associer aux germes.
			ajouter une arborescence de classes pour gérer les relations spatiales, et les associer aux organes et aux fonction floues via les seuils.
			modifier la lecture fichier pour prendre en entrée un .xml
			essayer de faire marcher la croissance région ne utilisant le fichier de logique floue

04/05/17
		- Formation au CHU sur 3D Slicer, qui a entre autre permis de montrer à quel point c'est actuellement long de réaliser une segmentation à la main : 
			- 200 coupes par patient en moyenne
			- une segmentation prend du temps

05/05/17 
		- Un seuil par organe et donc par germe --> FAIT
		- Lecture de la nouvelle base de cas en XML --> en cours (parserXML())
		- Ontologie des organes --> FAIT (peut-être à completer)
		- Corespondance organes/germes --> EN COURS

		TOTO 
			faire pour qu' à un organe donné on associe toujours la même couleurs lors de la segmentation

09/05/17
		TODO : 

		ontologie des relations spatiales pour pouvoir continuer à lire la base de cas en xml*
		modifier la fonction supprimerMuscles() et même tout le proccessus de suppression pour utiliser la liste de germesInutiles de la Solution
		modifier fusionRegions() pour comparer l'objetAnatomique et non plus la couleur


		DONE : x²

		- Class traitement pour les pretaitements
		- Ajout d'une arraylist de germes inutiles (muscles) dans la solution
		- Ajout d'une arrayList de traitements (pretraitements) dans la solution
		- Dans la classe Probleme, on peut desormais set un attribut de la classe à partir d'un string : 
			ex: setCarac("kurtosis", 50) donnera this.kurtosis = 50; :)
			très pratique pour la lecture fichier, vu que l'on parse des string

		- JAVADOC ^^


10/05/17

		TODO : 


		standadrdiser le code de Test_Direction_Droite.java pour pouvoir appeler les fonction floues 
		depuis d'autres classes, et récupérer la position du germe sans dessiner d'image, etc. --> EN COURS ^^

		DONE : 

		modification du build.xml pour la gestion compliquée du répertoire main 
			- plugin imageJ à déplacer à la main 
			- fichiers java annexes (main et constantes à deplacer à la main aussi du coup)
		on peut desormais lancer le test flou depuis le main (comme pour la croissance région)

		Je me suis aperçu que les résultats avec multiplications sont meilleurs qut'avec min pour la t-norme ^^

		CE QUI ME GENE : 

		si on veut rajouter un type de relation il faut : 
			- ajouter le type dans l'enum
			- ajouter une classe
			- ajouter une fonctionfloue
			- rajouter un case au switch de la fonction (calculGerme)
			--> Solution : mettre la fonctionFloue dans la relation directement, redéfinie à chaque relation différente
				--> plus de switch

			--> CA MARCHE !!
				--> les points de références des objets de réfrences sont en dur
				--> les paramètres (seuils) des ftcs floues sont en dur
				--> Du coup je n'ai plus besoin des fonction floues dans la classe GestionRelationsFloues, vu qu'elles sont direct dans les RelationsSpatiales

			
			CONCRETEMENT A CE POINT J'EXECUTE DE LA MANIERE SUIVANTE : 
				- création des référencesAnatomiques, relations, set des paramètres des fonctions floues (dans les relations), etc.
				- lancement du calcul de la carte de ditance correspondant à la fusion de chaque relation (on peut en mettre à l'infini tant que c'est logique)
				- récupération du germe associé à la plus grande valeur dans la carte
				- (ça dessine aussi)


11/05/17
		compte rendu présentation : 

	- ajouter dans la modélisation des cas : 
		- informations sur l'echographie : diametre epaisseur hauteur de la tumeur et des muscles (ces infos sont disponibles normalement)
	
	
	- expliquer le processus de modélisation du RaPC selon les différentes etapes de l'algorithme de lsegmentation : 
		- cas
		- similarité
		- etc.
		CAR C'EST LE COEUR DE MON STAGE

	- la modélisation du cas telle qu'elle est est bien 
	- voir papier de lieber (ibiscus) où il décrit une méthodologie de disposition des fleurs dans une plantation avec logique floue et relations spatiales
	- est-ce qu'on utilise le centre de gravité ou tout l'objet ? pour les relations floues
	- séparer les casen fonction de organes ? c'est à dire : 
		- avoir une base de cas par organe, et donc un comportement différent par organe, et donc un RàPC par organe
		ou sinon tout garder comme c'est actuellement (une seule base de cas)
		

12/05/17 : 
	TODO : 

terminer le parserXML() pour construire et retourner l'objet BaseDeCas qui pourra ensuite
être utilisé par le programme principal.


15/05/17 : 
	DONE : 
	-ajout dans la base de cas Java de la liste des relations spatiales floues de la partie Probleme : 
	 	- méthode de construction et de return des bons objets des ontologies en fonction des String en paramètres lus depuis la base de cas en XML
	-parserXML terminé (ou quasi terminé) avec toString fonctionnelles dans chaque classe et remplissage d'un objet BaseDeCas fonctionnel
	-tout est fait de la manière la plus générique possible

	TODO : 
	-est-ce que l'enum TypeRelation est utile ?? je ne pense pas au final
	j'ai vérifié ça ne sert pas pour le moment, je la supprimerai^^

16/05/17 : 
	DONE : 
	- suppression de l'enum TypeRelation qui etait useless
	- gestion de toutes les exceptions potentielles dans la base de cas (avec messages en conséquence)
		- sauf pour les erreurs sur les balises, mais ça doit être relou à faire et super chiant pour pas grand choses

	- J'ai fais un trello pour récapituler les TODO et les DONE, cela structure mieux le travail à faire
	(https://trello.com/b/MhYeyyGj/rapc-pour-la-segmentation-de-la-tumeur-du-rein)
	- XML Schema (.xsd) pour la validation du XML de la base de cas : c'est un pattron de conception pour la base de cas XML
		- fonctionnel
		- fonction de test de validité codée dans la lectureFichier : fonctionnelle aussi ! 

		
17/05/17 : 
	- La gestion des couleurs par organe est en cours 
		- procédure pour déterminer la couleur en int : 
			1. récupérer le RGB de la couleur souhaitée
			2. convertir le RGB en Hexa (http://www.rgbtohex.net/)
			3. convertir l'hexa en décimal (http://www.binaryhexconverter.com/hex-to-decimal-converter)
	- Il est possible d'appeler le parserXML depuis la classe croissanceRegions et ainsi de se baser sur la base de cas XML pour faire la croissance région (DECOMMENTER LA LIGNE 69 DE CROISSANCE REGION )

	- Génération de la documentation javadoc sous forme de page HTML (par Eclipse) ajoutée au projet Eclipse (non gitée) --> MARCHE BIEN !
				


18/05/17 : 
	- fonction doTriatements dans croissanceRegions qui applique tous les traitements (stockés dans le cas de réf) sur l'image de base 
		- Pour le moment prise en charge des filtres Unsharp, Median et Moyenneur

	-TODO Ajouter le cas courrant dans la base de cas !!


22/05/17 : 
	- tout a été fusionné entre la croissance régions et la gestion relations spatiales, pour tout automatiser : 
		- calcul de la position du germe tumeur à partir des relations patiales		
		- semgnetation des objets de référence des relations spatiales, puis calcul de leur centre de gravité, 
		  pour ensuite lancer le calcul de la position du germe de la tumeur
		  la segmentation des obejts de réfrence nécessite un germe, que l'on va chercher dans la partie solution de la base de case, au niveau des germes utiles/inutiles --> gestion des erreurs si l'objet de référence est inexistant dans la base de cas des germes utiles/inutiles

		- les seuils globaux et locaux de la croissance région sont toujours en dur pour le moment, c'est d'ailleurs le seul truc qui reste en dur

		- création d'un constante pour la suppression/ou non des muscles (MUSCLES_A_ENLEVER)
		- javadoc
		- 

23/05/17 :
	- mise à jour du .xsd pour integrer l'ajout de trois nouveaux attributs nonImage : 
		- diamètre tumeur
		- hauteur tumeur
		- epaisseur muscles
		Ces attributs devraient nous permettre de calculer une boite englobante pour la tumeur

		IL FAUDRA APPLIQUER UN ENORME POIDS AUX RELATIONS SPATIALES LORS DE LA MESURE DE SIMILARITE
		CAR SINON CELA N'AURA AUCUN SENS DE SE REMORER UN CAS QUI N'A PAS LES MEMES RELATIONS SPATIALES :
		ex : haut / gauche / proche ne doit pas être associé à un haut / droite / proche ! 

	- j'ai du mal à voir comment coder la fonction getBoiteEnglobante() (voir fonction)

	TODO : mesure de similarité : 
			- chercher un moyen de mesure la similarité entre les relations spatiales : 
				- test d'egalité stricte ? coefficient de similarité ? etc. ?
				- avec des poids plus ou moins forts, notament pour les relations qui ont beaucoup d'importance

			- ne pas oublier de coder l'écriture XML de la base de cas : (https://www.mkyong.com/java/how-to-create-xml-file-in-java-dom/)



24/05/17 : 	
	Questions : 
		- Similarité exacte pour les relations ? 
			- peut-être la faire en deux partie : premeire partie sur les relations spatiales, et ensutie parmis les cas ayant les même relations, on prend le meilleur cas possible.
		- Adaptation ? à la main ou automatisée ? : 
			- Lancer plusieurs fois le programme RàPC, observer les resultats et modifer l'adaptation des paramètres
		- Mesure de satisfaction de la segmentation automatisée ? --> aussi pour l'adaptation
		- La boite englobante est vraiment un casse tête, et selon moi, avec des paramètres du genre : 
			- epaisseur tumeur, diametre, etc est nul car cela reviendrait à faire enormement de calculs sur une tumeur, donc autant mettre à la main directement le germe.


	TODO : 
		- Lire des articles sur la similarité, pour trouver les meileurs fonctions de distance possible pour notre problème

	DONE : 
		- GetMeilleurProbleme2() (en cours) : 
			- j'ai codé la méthode getCasMemesRelations() qui retourne la liste des cas ayant les mêmes relations spatiales (nom de classe + objet de référence) C'est un parti pris, je pense qu'il est nécessaire d'avoir les mêmes relations avant même de calculer uns similarité, cela n'aurait pas de sens de se remémorer un cas n'ayant pas la tumeur au même endroit.
			Deuxième hypothèse : on sépare les traitements position germe tumeur / seuillage tumeur : 
				- la liste des cas ayant les mêmes relations spatiales permet de déterminer le cas sur lequel se baser pour calculer la position du germe
				- la base de cas dans sa totalité permet, par mesure de similarité de calculer les meilleurs seuils pour la tumeur, quelque soit sa position (ce qui importe c'est la teinte, le couleur, la texture, etc.)

				DONC : ALGO POUR LA TUMEUR
					- 1ère remémoration pour récupérer les cas ayant les mêmes relations :
						- parmis ces cas, récupérer celui le plus proche du cas courant : 
							- récupérer ses paramètres de fonctions floues, et calculer la positon du germe tumeur
					- 2ème remémoration pour récupérer les seuils de la croissance région de la tumeur :
						- parmis tous les cas de la base, quelles que soient les relations
						- on récupère uniquement les seuils globaux et locaux pour la tumeur


29/05/17 : 

	COMPTE RENDU MINI REUNION :
	- les données que l'on peut avoir via l'echographie sont encore à définir, on  pourrait très bien avoir aussi : 
		- la position du centre de la hauteur de la tumeur (on pourrait donc calculuer la limite verticale de la tumeur)
		- à voir

	- on peut aussi imaginer une similarité classique selon les critères images/non images et ensuite faire une adaptation différente selon la différence de criètre : 
		- relations spatiales différentes --> modifications par homotétie par exemple (gauche/droite)
		- critères images différents --> appliquer des filtres pour que notre image ressemble à l'iamge remémorée
		- criètres non images différents --> à voir
		En gros l'adaptation c'est pas forcémenent le fait de modifier legerement la solution remémorée, ça peut passer par une legere modification de l'image d'entrée.

	- Faire une présentation sur la smilarité / ce que j'au fait

	- Recherches sur les calculs de similarité, lecture d'articles :
		- Similarity and Metrics in Case-Based Reasoning
		- CASE-BASED-REASONING FOR IMAGE SEGMENTATION
		- https://hal.inria.fr/inria-00107561/document
		- Contributions à la conception de systèmes de raisonnement à partir de cas
		- http://onlinelibrary.wiley.com/doi/10.1111/j.1467-8640.2009.00337.x/full
		- http://ac.els-cdn.com/S0020025597100081/1-s2.0-S0020025597100081-main.pdf?_tid=f6d4fbb6-4477-11e7-9cd9-00000aacb35f&acdnat=1496066949_48272be87629e2dd45fff6ba9cce8ce0

		J'essaye de voir si je vais avoir à comparer les relations spatiales entre elles, ou non (les intégrer dans les calculs de similarité)

		Problème : 
			SI j'ai la liste de relations spatiales suivante : 
				- ADroiteDe Colonne, EnHautDeColonne, ProcheDeColonne
				- EnBasDe ReinDroit, MoyennementProche ReinDroit, ADroiteDe Colonne

			Comment savoir si la tumeur est placée au même endroit ? similarité floue ?





	- ma fonction de calcul de la position du germe tumeur par rapport au centre de gravité des objets de référence remémorés, et non pas par copie des germes de ces mêmes objets, est une forme d'adaptation ;)
	--> A METTRE DANS LA PRESENTATION